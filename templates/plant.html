<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pepper Plant Growth Status</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        .sidebar {
            width: 220px;
            background-color: #2e7d32;
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar h3 {
            margin-bottom: 20px;
            text-align: center;
        }

        .sidebar a {
            color: white;
            text-decoration: none;
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .sidebar a:hover, .sidebar a.active {
            background-color: #1b5e20;
        }

        .main {
            flex-grow: 1;
            padding: 25px;
            background-color: #f1f8e9;
            overflow-y: auto;
        }
        
        .plant-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0px 10px M30px rgba(0,0,0,0.1);
            overflow: hidden; /* Ensures image corners are rounded */
        }

        .plant-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            transition: transform 0.5s ease-in-out;
        }

        .plant-image:hover {
            transform: scale(1.05);
        }

        .details-list .list-group-item {
            background-color: transparent;
            border: none;
            border-bottom: 1px solid #eee;
            padding: 15px;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <h3>ðŸŒ± Soil System</h3>
        <a href="#">Dashboard</a>
        <a href="#">History</a>
        <a href="#">Fertilizer</a>
        <a href="#" class="active">Plant Details</a> <a href="#">Pump</a>
        <hr>
        <a href="#">ðŸ¤– AI Assistant</a>
    </div>

    <div class="main">
        <h1 class="mb-4 text-success">Pepper Plant Growth Status</h1>
        
        <div class="row g-4">
            <div class="col-lg-5">
                <div class="card plant-card">
                    <img id="plant-image" src="https://i.imgur.com/o6bZ2Vq.png" class="plant-image" alt="Pepper Plant">
                    <div class="card-body">
                        <h5 class="card-title">Growth Progress</h5>
                        <div class="progress" style="height: 25px;">
                            <div id="growth-progress-bar" class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-7">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h3 class="card-title mb-4">Plant Vitals</h3>
                        <ul class="list-group list-group-flush details-list">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Plant Age:</strong>
                                <span id="plant-age" class="badge bg-primary rounded-pill fs-6">Day 1</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Current Stage:</strong>
                                <span id="plant-stage" class="fs-6">--</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Estimated Height:</strong>
                                <span id="plant-height" class="fs-6">-- cm</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Watering Needs:</strong>
                                <span id="water-needs" class="fs-6">--</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Nutrient Needs (N-P-K):</strong>
                                <span id="nutrient-needs" class="fs-6">--</span>
                            </li>
                             <li class="list-group-item d-flex justify-content-between align-items-center">
                                <strong>Next Stage In:</strong>
                                <span id="next-stage-in" class="fs-6">-- days</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {

            // --- Define Pepper Plant Growth Stages ---
            const growthStages = [
                { name: 'Germination', startDay: 1, endDay: 14, height: 2, water: 'Light', nutrients: 'Low N, Low P, Low K', image: 'https://i.imgur.com/o6bZ2Vq.png' },
                { name: 'Seedling', startDay: 15, endDay: 35, height: 15, water: 'Consistent', nutrients: 'Balanced N-P-K', image: 'https://i.imgur.com/8xYf1nE.png' },
                { name: 'Vegetative Growth', startDay: 36, endDay: 60, height: 45, water: 'Moderate', nutrients: 'High N, Medium P-K', image: 'https://i.imgur.com/WpPPU3s.png' },
                { name: 'Flowering', startDay: 61, endDay: 90, height: 60, water: 'High', nutrients: 'Low N, High P-K', image: 'https://i.imgur.com/O6S3g5b.png' },
                { name: 'Fruiting', startDay: 91, endDay: 120, height: 70, water: 'Consistent High', nutrients: 'Balanced, High K', image: 'https://i.imgur.com/e5kUR1D.png' }
            ];
            const totalLifecycleDays = 120;
            let currentDay = 1;

            // --- Get references to HTML elements ---
            const plantImage = document.getElementById('plant-image');
            const progressBar = document.getElementById('growth-progress-bar');
            const plantAgeEl = document.getElementById('plant-age');
            const plantStageEl = document.getElementById('plant-stage');
            const plantHeightEl = document.getElementById('plant-height');
            const waterNeedsEl = document.getElementById('water-needs');
            const nutrientNeedsEl = document.getElementById('nutrient-needs');
            const nextStageInEl = document.getElementById('next-stage-in');

            // --- Main function to update the plant status on the page ---
            function updatePlantStatus() {
                // Find the current stage based on the current day
                const currentStage = growthStages.find(stage => currentDay >= stage.startDay && currentDay <= stage.endDay);

                if (currentStage) {
                    // Calculate overall progress percentage
                    const progress = Math.round((currentDay / totalLifecycleDays) * 100);

                    // Update the UI elements
                    plantImage.src = currentStage.image;
                    progressBar.style.width = `${progress}%`;
                    progressBar.textContent = `${progress}%`;
                    progressBar.setAttribute('aria-valuenow', progress);
                    
                    plantAgeEl.textContent = `Day ${currentDay} of ${totalLifecycleDays}`;
                    plantStageEl.textContent = currentStage.name;
                    plantHeightEl.textContent = `${currentStage.height} cm`;
                    waterNeedsEl.textContent = currentStage.water;
                    nutrientNeedsEl.textContent = currentStage.nutrients;
                    nextStageInEl.textContent = `${currentStage.endDay - currentDay + 1} days`;
                }

                // Increment the day for the next update
                currentDay++;
                if (currentDay > totalLifecycleDays) {
                    currentDay = 1; // Restart the cycle
                }
            }

            // --- Run the simulation ---
            updatePlantStatus(); // Initial call to set the page
            setInterval(updatePlantStatus, 3000); // Update the plant status every 3 seconds
        });
    </script>
</body>
</html>